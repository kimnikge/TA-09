# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞: **"Bucket not found"** (404) –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–µ–Ω Supabase Storage: bucket `product-images` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –¢–∞–±–ª–∏—Ü–∞ `products` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `ImageUpload` –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å bucket `product-images` –≤ Supabase Dashboard:

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ bucket —á–µ—Ä–µ–∑ Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://supabase.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Storage** (–±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é)
4. –ù–∞–∂–º–∏—Ç–µ **Create a new bucket**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - **Name**: `product-images`
   - **Public bucket**: ‚úÖ **–í–∫–ª—é—á–∏—Ç—å**
   - **File size limit**: `5242880` (5MB)
   - **Allowed MIME types**: `image/jpeg,image/png,image/webp,image/gif`
6. –ù–∞–∂–º–∏—Ç–µ **Create bucket**

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª–∏—Ç–∏–∫ –¥–æ—Å—Ç—É–ø–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è bucket –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ bucket.

### –®–∞–≥ 3: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± - SQL —Å–∫—Ä–∏–ø—Ç
–ï—Å–ª–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ SQL, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ **SQL Editor**:

```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ SETUP_STORAGE.sql
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è bucket –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
cd frontend
npm run test-storage
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ Bucket product-images –Ω–∞–π–¥–µ–Ω
üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ bucket: {...}
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è bucket:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –û—à–∏–±–∫–∞ "Bucket not found" –∏—Å—á–µ–∑–Ω–µ—Ç
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è Storage
npm run test-storage

# –°–æ–∑–¥–∞–Ω–∏–µ bucket (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ RLS)
npm run setup-storage

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npm run dev
```

## üö® –û–ë–ù–û–í–õ–ï–ù–ò–ï: –û—à–∏–±–∫–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É `ERROR: 42501: must be owner of table objects`, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫ —á–µ—Ä–µ–∑ SQL.

### ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
1. –°–æ–∑–¥–∞–π—Ç–µ bucket `product-images` —á–µ—Ä–µ–∑ Dashboard (–∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∫–∞–∫ **–ø—É–±–ª–∏—á–Ω—ã–π** - —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã
3. –ü–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ bucket

### üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π SQL (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è bucket):
```sql
-- –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ bucket –±–µ–∑ –ø–æ–ª–∏—Ç–∏–∫
INSERT INTO storage.buckets (id, name, public)
VALUES ('product-images', 'product-images', true)
ON CONFLICT (id) DO NOTHING;
```

---
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è bucket –≤ Supabase Dashboard
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π - –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 3 –∏—é–ª—è 2025 –≥. 20:12
